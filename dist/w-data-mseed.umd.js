/*!
 * w-data-mseed v1.0.6
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("path"),require("fs"),require("process"),require("child_process")):"function"==typeof define&&define.amd?define(["path","fs","process","child_process"],r):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-data-mseed"]=r(t.path,t.fs,t.process,t.child_process)}(this,(function(t,r,e,n){"use strict";var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var u=Array.isArray,a="object"==typeof i&&i&&i.Object===Object&&i,c=a,s="object"==typeof self&&self&&self.Object===Object&&self,f=c||s||Function("return this")(),l=f.Symbol,h=l,v=Object.prototype,p=v.hasOwnProperty,d=v.toString,y=h?h.toStringTag:void 0;var _=function(t){var r=p.call(t,y),e=t[y];try{t[y]=void 0;var n=!0}catch(t){}var i=d.call(t);return n&&(r?t[y]=e:delete t[y]),i},b=Object.prototype.toString;var g=_,m=function(t){return b.call(t)},j=l?l.toStringTag:void 0;var $=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":j&&j in Object(t)?g(t):m(t)};var w=function(t){return null!=t&&"object"==typeof t},S=$,O=w;var M=function(t){return"symbol"==typeof t||O(t)&&"[object Symbol]"==S(t)},D=u,x=M,A=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,z=/^\w*$/;var P=function(t,r){if(D(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!x(t))||(z.test(t)||!A.test(t)||null!=r&&t in Object(r))};var T=function(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)},k=$,F=T;var I,Y=function(t){if(!F(t))return!1;var r=k(t);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r},E=f["__core-js_shared__"],L=(I=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+I:"";var N=function(t){return!!L&&L in t},H=Function.prototype.toString;var C=function(t){if(null!=t){try{return H.call(t)}catch(t){}try{return t+""}catch(t){}}return""},W=Y,U=N,B=T,q=C,V=/^\[object .+?Constructor\]$/,R=Function.prototype,J=Object.prototype,Z=R.toString,G=J.hasOwnProperty,Q=RegExp("^"+Z.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var K=function(t){return!(!B(t)||U(t))&&(W(t)?Q:V).test(q(t))},X=function(t,r){return null==t?void 0:t[r]};var tt=function(t,r){var e=X(t,r);return K(e)?e:void 0},rt=tt(Object,"create"),et=rt;var nt=function(){this.__data__=et?et(null):{},this.size=0};var it=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},ot=rt,ut=Object.prototype.hasOwnProperty;var at=function(t){var r=this.__data__;if(ot){var e=r[t];return"__lodash_hash_undefined__"===e?void 0:e}return ut.call(r,t)?r[t]:void 0},ct=rt,st=Object.prototype.hasOwnProperty;var ft=rt;var lt=nt,ht=it,vt=at,pt=function(t){var r=this.__data__;return ct?void 0!==r[t]:st.call(r,t)},dt=function(t,r){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=ft&&void 0===r?"__lodash_hash_undefined__":r,this};function yt(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}yt.prototype.clear=lt,yt.prototype.delete=ht,yt.prototype.get=vt,yt.prototype.has=pt,yt.prototype.set=dt;var _t=yt;var bt=function(){this.__data__=[],this.size=0};var gt=function(t,r){return t===r||t!=t&&r!=r},mt=gt;var jt=function(t,r){for(var e=t.length;e--;)if(mt(t[e][0],r))return e;return-1},$t=jt,wt=Array.prototype.splice;var St=jt;var Ot=jt;var Mt=jt;var Dt=bt,xt=function(t){var r=this.__data__,e=$t(r,t);return!(e<0)&&(e==r.length-1?r.pop():wt.call(r,e,1),--this.size,!0)},At=function(t){var r=this.__data__,e=St(r,t);return e<0?void 0:r[e][1]},zt=function(t){return Ot(this.__data__,t)>-1},Pt=function(t,r){var e=this.__data__,n=Mt(e,t);return n<0?(++this.size,e.push([t,r])):e[n][1]=r,this};function Tt(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}Tt.prototype.clear=Dt,Tt.prototype.delete=xt,Tt.prototype.get=At,Tt.prototype.has=zt,Tt.prototype.set=Pt;var kt=Tt,Ft=tt(f,"Map"),It=_t,Yt=kt,Et=Ft;var Lt=function(t){var r=typeof t;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t};var Nt=function(t,r){var e=t.__data__;return Lt(r)?e["string"==typeof r?"string":"hash"]:e.map},Ht=Nt;var Ct=Nt;var Wt=Nt;var Ut=Nt;var Bt=function(){this.size=0,this.__data__={hash:new It,map:new(Et||Yt),string:new It}},qt=function(t){var r=Ht(this,t).delete(t);return this.size-=r?1:0,r},Vt=function(t){return Ct(this,t).get(t)},Rt=function(t){return Wt(this,t).has(t)},Jt=function(t,r){var e=Ut(this,t),n=e.size;return e.set(t,r),this.size+=e.size==n?0:1,this};function Zt(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}Zt.prototype.clear=Bt,Zt.prototype.delete=qt,Zt.prototype.get=Vt,Zt.prototype.has=Rt,Zt.prototype.set=Jt;var Gt=Zt,Qt=Gt;function Kt(t,r){if("function"!=typeof t||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var e=function(){var n=arguments,i=r?r.apply(this,n):n[0],o=e.cache;if(o.has(i))return o.get(i);var u=t.apply(this,n);return e.cache=o.set(i,u)||o,u};return e.cache=new(Kt.Cache||Qt),e}Kt.Cache=Qt;var Xt=Kt;var tr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rr=/\\(\\)?/g,er=function(t){var r=Xt(t,(function(t){return 500===e.size&&e.clear(),t})),e=r.cache;return r}((function(t){var r=[];return 46===t.charCodeAt(0)&&r.push(""),t.replace(tr,(function(t,e,n,i){r.push(n?i.replace(rr,"$1"):e||t)})),r}));var nr=function(t,r){for(var e=-1,n=null==t?0:t.length,i=Array(n);++e<n;)i[e]=r(t[e],e,t);return i},ir=nr,or=u,ur=M,ar=l?l.prototype:void 0,cr=ar?ar.toString:void 0;var sr=function t(r){if("string"==typeof r)return r;if(or(r))return ir(r,t)+"";if(ur(r))return cr?cr.call(r):"";var e=r+"";return"0"==e&&1/r==-Infinity?"-0":e},fr=sr;var lr=function(t){return null==t?"":fr(t)},hr=u,vr=P,pr=er,dr=lr;var yr=function(t,r){return hr(t)?t:vr(t,r)?[t]:pr(dr(t))},_r=M;var br=function(t){if("string"==typeof t||_r(t))return t;var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r},gr=yr,mr=br;var jr=function(t,r){for(var e=0,n=(r=gr(r,t)).length;null!=t&&e<n;)t=t[mr(r[e++])];return e&&e==n?t:void 0},$r=jr;var wr=function(t,r,e){var n=null==t?void 0:$r(t,r);return void 0===n?e:n},Sr=kt;var Or=kt,Mr=Ft,Dr=Gt;var xr=kt,Ar=function(){this.__data__=new Sr,this.size=0},zr=function(t){var r=this.__data__,e=r.delete(t);return this.size=r.size,e},Pr=function(t){return this.__data__.get(t)},Tr=function(t){return this.__data__.has(t)},kr=function(t,r){var e=this.__data__;if(e instanceof Or){var n=e.__data__;if(!Mr||n.length<199)return n.push([t,r]),this.size=++e.size,this;e=this.__data__=new Dr(n)}return e.set(t,r),this.size=e.size,this};function Fr(t){var r=this.__data__=new xr(t);this.size=r.size}Fr.prototype.clear=Ar,Fr.prototype.delete=zr,Fr.prototype.get=Pr,Fr.prototype.has=Tr,Fr.prototype.set=kr;var Ir=Fr;var Yr=Gt,Er=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Lr=function(t){return this.__data__.has(t)};function Nr(t){var r=-1,e=null==t?0:t.length;for(this.__data__=new Yr;++r<e;)this.add(t[r])}Nr.prototype.add=Nr.prototype.push=Er,Nr.prototype.has=Lr;var Hr=Nr,Cr=function(t,r){for(var e=-1,n=null==t?0:t.length;++e<n;)if(r(t[e],e,t))return!0;return!1},Wr=function(t,r){return t.has(r)};var Ur=function(t,r,e,n,i,o){var u=1&e,a=t.length,c=r.length;if(a!=c&&!(u&&c>a))return!1;var s=o.get(t),f=o.get(r);if(s&&f)return s==r&&f==t;var l=-1,h=!0,v=2&e?new Hr:void 0;for(o.set(t,r),o.set(r,t);++l<a;){var p=t[l],d=r[l];if(n)var y=u?n(d,p,l,r,t,o):n(p,d,l,t,r,o);if(void 0!==y){if(y)continue;h=!1;break}if(v){if(!Cr(r,(function(t,r){if(!Wr(v,r)&&(p===t||i(p,t,e,n,o)))return v.push(r)}))){h=!1;break}}else if(p!==d&&!i(p,d,e,n,o)){h=!1;break}}return o.delete(t),o.delete(r),h};var Br=function(t){var r=-1,e=Array(t.size);return t.forEach((function(t,n){e[++r]=[n,t]})),e};var qr=f.Uint8Array,Vr=gt,Rr=Ur,Jr=Br,Zr=function(t){var r=-1,e=Array(t.size);return t.forEach((function(t){e[++r]=t})),e},Gr=l?l.prototype:void 0,Qr=Gr?Gr.valueOf:void 0;var Kr=function(t,r,e,n,i,o,u){switch(e){case"[object DataView]":if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)return!1;t=t.buffer,r=r.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=r.byteLength||!o(new qr(t),new qr(r)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Vr(+t,+r);case"[object Error]":return t.name==r.name&&t.message==r.message;case"[object RegExp]":case"[object String]":return t==r+"";case"[object Map]":var a=Jr;case"[object Set]":var c=1&n;if(a||(a=Zr),t.size!=r.size&&!c)return!1;var s=u.get(t);if(s)return s==r;n|=2,u.set(t,r);var f=Rr(a(t),a(r),n,i,o,u);return u.delete(t),f;case"[object Symbol]":if(Qr)return Qr.call(t)==Qr.call(r)}return!1};var Xr=function(t,r){for(var e=-1,n=r.length,i=t.length;++e<n;)t[i+e]=r[e];return t},te=u;var re=function(t,r,e){var n=r(t);return te(t)?n:Xr(n,e(t))};var ee=function(t,r){for(var e=-1,n=null==t?0:t.length,i=0,o=[];++e<n;){var u=t[e];r(u,e,t)&&(o[i++]=u)}return o};var ne=ee,ie=function(){return[]},oe=Object.prototype.propertyIsEnumerable,ue=Object.getOwnPropertySymbols,ae=ue?function(t){return null==t?[]:(t=Object(t),ne(ue(t),(function(r){return oe.call(t,r)})))}:ie;var ce=function(t,r){for(var e=-1,n=Array(t);++e<t;)n[e]=r(e);return n},se=$,fe=w;var le=function(t){return fe(t)&&"[object Arguments]"==se(t)},he=w,ve=Object.prototype,pe=ve.hasOwnProperty,de=ve.propertyIsEnumerable,ye=le(function(){return arguments}())?le:function(t){return he(t)&&pe.call(t,"callee")&&!de.call(t,"callee")},_e=ye,be={};var ge=function(){return!1};!function(t,r){var e=f,n=ge,i=r&&!r.nodeType&&r,o=i&&t&&!t.nodeType&&t,u=o&&o.exports===i?e.Buffer:void 0,a=(u?u.isBuffer:void 0)||n;t.exports=a}({get exports(){return be},set exports(t){be=t}},be);var me=/^(?:0|[1-9]\d*)$/;var je=function(t,r){var e=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==e||"symbol"!=e&&me.test(t))&&t>-1&&t%1==0&&t<r};var $e=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},we=$,Se=$e,Oe=w,Me={};Me["[object Float32Array]"]=Me["[object Float64Array]"]=Me["[object Int8Array]"]=Me["[object Int16Array]"]=Me["[object Int32Array]"]=Me["[object Uint8Array]"]=Me["[object Uint8ClampedArray]"]=Me["[object Uint16Array]"]=Me["[object Uint32Array]"]=!0,Me["[object Arguments]"]=Me["[object Array]"]=Me["[object ArrayBuffer]"]=Me["[object Boolean]"]=Me["[object DataView]"]=Me["[object Date]"]=Me["[object Error]"]=Me["[object Function]"]=Me["[object Map]"]=Me["[object Number]"]=Me["[object Object]"]=Me["[object RegExp]"]=Me["[object Set]"]=Me["[object String]"]=Me["[object WeakMap]"]=!1;var De=function(t){return Oe(t)&&Se(t.length)&&!!Me[we(t)]};var xe=function(t){return function(r){return t(r)}},Ae={};!function(t,r){var e=a,n=r&&!r.nodeType&&r,i=n&&t&&!t.nodeType&&t,o=i&&i.exports===n&&e.process,u=function(){try{var t=i&&i.require&&i.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=u}({get exports(){return Ae},set exports(t){Ae=t}},Ae);var ze=De,Pe=xe,Te=Ae&&Ae.isTypedArray,ke=Te?Pe(Te):ze,Fe=ce,Ie=_e,Ye=u,Ee=be,Le=je,Ne=ke,He=Object.prototype.hasOwnProperty;var Ce=function(t,r){var e=Ye(t),n=!e&&Ie(t),i=!e&&!n&&Ee(t),o=!e&&!n&&!i&&Ne(t),u=e||n||i||o,a=u?Fe(t.length,String):[],c=a.length;for(var s in t)!r&&!He.call(t,s)||u&&("length"==s||i&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Le(s,c))||a.push(s);return a},We=Object.prototype;var Ue=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||We)};var Be=function(t,r){return function(e){return t(r(e))}}(Object.keys,Object),qe=Ue,Ve=Be,Re=Object.prototype.hasOwnProperty;var Je=Y,Ze=$e;var Ge=function(t){return null!=t&&Ze(t.length)&&!Je(t)},Qe=Ce,Ke=function(t){if(!qe(t))return Ve(t);var r=[];for(var e in Object(t))Re.call(t,e)&&"constructor"!=e&&r.push(e);return r},Xe=Ge;var tn=function(t){return Xe(t)?Qe(t):Ke(t)},rn=re,en=ae,nn=tn;var on=function(t){return rn(t,nn,en)},un=Object.prototype.hasOwnProperty;var an=function(t,r,e,n,i,o){var u=1&e,a=on(t),c=a.length;if(c!=on(r).length&&!u)return!1;for(var s=c;s--;){var f=a[s];if(!(u?f in r:un.call(r,f)))return!1}var l=o.get(t),h=o.get(r);if(l&&h)return l==r&&h==t;var v=!0;o.set(t,r),o.set(r,t);for(var p=u;++s<c;){var d=t[f=a[s]],y=r[f];if(n)var _=u?n(y,d,f,r,t,o):n(d,y,f,t,r,o);if(!(void 0===_?d===y||i(d,y,e,n,o):_)){v=!1;break}p||(p="constructor"==f)}if(v&&!p){var b=t.constructor,g=r.constructor;b==g||!("constructor"in t)||!("constructor"in r)||"function"==typeof b&&b instanceof b&&"function"==typeof g&&g instanceof g||(v=!1)}return o.delete(t),o.delete(r),v},cn=tt(f,"DataView"),sn=Ft,fn=tt(f,"Promise"),ln=tt(f,"Set"),hn=tt(f,"WeakMap"),vn=$,pn=C,dn="[object Map]",yn="[object Promise]",_n="[object Set]",bn="[object WeakMap]",gn="[object DataView]",mn=pn(cn),jn=pn(sn),$n=pn(fn),wn=pn(ln),Sn=pn(hn),On=vn;(cn&&On(new cn(new ArrayBuffer(1)))!=gn||sn&&On(new sn)!=dn||fn&&On(fn.resolve())!=yn||ln&&On(new ln)!=_n||hn&&On(new hn)!=bn)&&(On=function(t){var r=vn(t),e="[object Object]"==r?t.constructor:void 0,n=e?pn(e):"";if(n)switch(n){case mn:return gn;case jn:return dn;case $n:return yn;case wn:return _n;case Sn:return bn}return r});var Mn=Ir,Dn=Ur,xn=Kr,An=an,zn=On,Pn=u,Tn=be,kn=ke,Fn="[object Arguments]",In="[object Array]",Yn="[object Object]",En=Object.prototype.hasOwnProperty;var Ln=function(t,r,e,n,i,o){var u=Pn(t),a=Pn(r),c=u?In:zn(t),s=a?In:zn(r),f=(c=c==Fn?Yn:c)==Yn,l=(s=s==Fn?Yn:s)==Yn,h=c==s;if(h&&Tn(t)){if(!Tn(r))return!1;u=!0,f=!1}if(h&&!f)return o||(o=new Mn),u||kn(t)?Dn(t,r,e,n,i,o):xn(t,r,c,e,n,i,o);if(!(1&e)){var v=f&&En.call(t,"__wrapped__"),p=l&&En.call(r,"__wrapped__");if(v||p){var d=v?t.value():t,y=p?r.value():r;return o||(o=new Mn),i(d,y,e,n,o)}}return!!h&&(o||(o=new Mn),An(t,r,e,n,i,o))},Nn=w;var Hn=function t(r,e,n,i,o){return r===e||(null==r||null==e||!Nn(r)&&!Nn(e)?r!=r&&e!=e:Ln(r,e,n,i,t,o))},Cn=Ir,Wn=Hn;var Un=T;var Bn=function(t){return t==t&&!Un(t)},qn=Bn,Vn=tn;var Rn=function(t,r){return function(e){return null!=e&&(e[t]===r&&(void 0!==r||t in Object(e)))}},Jn=function(t,r,e,n){var i=e.length,o=i,u=!n;if(null==t)return!o;for(t=Object(t);i--;){var a=e[i];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var c=(a=e[i])[0],s=t[c],f=a[1];if(u&&a[2]){if(void 0===s&&!(c in t))return!1}else{var l=new Cn;if(n)var h=n(s,f,c,t,r,l);if(!(void 0===h?Wn(f,s,3,n,l):h))return!1}}return!0},Zn=function(t){for(var r=Vn(t),e=r.length;e--;){var n=r[e],i=t[n];r[e]=[n,i,qn(i)]}return r},Gn=Rn;var Qn=yr,Kn=_e,Xn=u,ti=je,ri=$e,ei=br;var ni=function(t,r,e){for(var n=-1,i=(r=Qn(r,t)).length,o=!1;++n<i;){var u=ei(r[n]);if(!(o=null!=t&&e(t,u)))break;t=t[u]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&ri(i)&&ti(u,i)&&(Xn(t)||Kn(t))},ii=function(t,r){return null!=t&&r in Object(t)},oi=ni;var ui=function(t,r){return null!=t&&oi(t,r,ii)},ai=Hn,ci=wr,si=ui,fi=P,li=Bn,hi=Rn,vi=br;var pi=function(t,r){return fi(t)&&li(r)?hi(vi(t),r):function(e){var n=ci(e,t);return void 0===n&&n===r?si(e,t):ai(r,n,3)}};var di=function(t){return t};var yi=jr;var _i=function(t){return function(r){return yi(r,t)}},bi=function(t){return function(r){return null==r?void 0:r[t]}},gi=_i,mi=P,ji=br;var $i=function(t){return mi(t)?bi(ji(t)):gi(t)},wi=function(t){var r=Zn(t);return 1==r.length&&r[0][2]?Gn(r[0][0],r[0][1]):function(e){return e===t||Jn(e,t,r)}},Si=pi,Oi=di,Mi=u,Di=$i;var xi=function(t){return"function"==typeof t?t:null==t?Oi:"object"==typeof t?Mi(t)?Si(t[0],t[1]):wi(t):Di(t)};var Ai=function(t){return function(r,e,n){for(var i=-1,o=Object(r),u=n(r),a=u.length;a--;){var c=u[t?a:++i];if(!1===e(o[c],c,o))break}return r}}(),zi=tn;var Pi=Ge;var Ti=function(t,r){return function(e,n){if(null==e)return e;if(!Pi(e))return t(e,n);for(var i=e.length,o=r?i:-1,u=Object(e);(r?o--:++o<i)&&!1!==n(u[o],o,u););return e}}((function(t,r){return t&&Ai(t,r,zi)})),ki=Ti,Fi=Ge;var Ii=nr,Yi=xi,Ei=function(t,r){var e=-1,n=Fi(t)?Array(t.length):[];return ki(t,(function(t,i,o){n[++e]=r(t,i,o)})),n},Li=u;var Ni=function(t,r){return(Li(t)?Ii:Ei)(t,Yi(r))},Hi=Ti;var Ci=ee,Wi=function(t,r){var e=[];return Hi(t,(function(t,n,i){r(t,n,i)&&e.push(t)})),e},Ui=xi,Bi=u;var qi=function(t,r){return(Bi(t)?Ci:Wi)(t,Ui(r))};var Vi=function(t,r,e){var n=-1,i=t.length;r<0&&(r=-r>i?0:i+r),(e=e>i?i:e)<0&&(e+=i),i=r>e?0:e-r>>>0,r>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+r];return o},Ri=/\s/;var Ji=function(t){for(var r=t.length;r--&&Ri.test(t.charAt(r)););return r},Zi=/^\s+/;var Gi=function(t){return t?t.slice(0,Ji(t)+1).replace(Zi,""):t},Qi=Gi,Ki=T,Xi=M,to=/^[-+]0x[0-9a-f]+$/i,ro=/^0b[01]+$/i,eo=/^0o[0-7]+$/i,no=parseInt;var io=function(t){if("number"==typeof t)return t;if(Xi(t))return NaN;if(Ki(t)){var r="function"==typeof t.valueOf?t.valueOf():t;t=Ki(r)?r+"":r}if("string"!=typeof t)return 0===t?t:+t;t=Qi(t);var e=ro.test(t);return e||eo.test(t)?no(t.slice(2),e?2:8):to.test(t)?NaN:+t},oo=io,uo=1/0;var ao=function(t){return t?(t=oo(t))===uo||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0},co=ao;var so=function(t){var r=co(t),e=r%1;return r==r?e?r-e:r:0},fo=Vi,lo=so;var ho=function(t,r,e){var n=null==t?0:t.length;return n?(r=e||void 0===r?1:lo(r),fo(t,r<0?0:r,n)):[]},vo=so;var po=function(t){return"number"==typeof t&&t==vo(t)};function yo(t){return!(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)||""===t)}function _o(t){let r=!1;return yo(t)?r=!isNaN(Number(t)):function(t){return"[object Number]"===Object.prototype.toString.call(t)}(t)&&(r=!0),r}function bo(t){if(!_o(t))return 0;return ao(t)}var go=so,mo=io,jo=lr,$o=f.isFinite,wo=Math.min;var So=function(t){var r=Math[t];return function(t,e){if(t=mo(t),(e=null==e?0:wo(go(e),292))&&$o(t)){var n=(jo(t)+"e").split("e"),i=r(n[0]+"e"+(+n[1]+e));return+((n=(jo(i)+"e").split("e"))[0]+"e"+(+n[1]-e))}return r(t)}}("round");function Oo(t){if(!_o(t))return 0;t=bo(t);let r=So(t);return"0"===String(r)?0:r}function Mo(t){if(!function(t){return!!_o(t)&&(t=bo(t),po(t))}(t))return!1;return Oo(t)>0}let Do="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),xo=Do.length;var Ao={};!function(t,r){t.exports=function(){var t=1e3,r=6e4,e=36e5,n="millisecond",i="second",o="minute",u="hour",a="day",c="week",s="month",f="quarter",l="year",h="date",v="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var r=["th","st","nd","rd"],e=t%100;return"["+t+(r[(e-20)%10]||r[e]||r[0])+"]"}},_=function(t,r,e){var n=String(t);return!n||n.length>=r?t:""+Array(r+1-n.length).join(e)+t},b={s:_,z:function(t){var r=-t.utcOffset(),e=Math.abs(r),n=Math.floor(e/60),i=e%60;return(r<=0?"+":"-")+_(n,2,"0")+":"+_(i,2,"0")},m:function t(r,e){if(r.date()<e.date())return-t(e,r);var n=12*(e.year()-r.year())+(e.month()-r.month()),i=r.clone().add(n,s),o=e-i<0,u=r.clone().add(n+(o?-1:1),s);return+(-(n+(e-i)/(o?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:s,y:l,w:c,d:a,D:h,h:u,m:o,s:i,ms:n,Q:f}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",m={};m[g]=y;var j=function(t){return t instanceof O},$=function t(r,e,n){var i;if(!r)return g;if("string"==typeof r){var o=r.toLowerCase();m[o]&&(i=o),e&&(m[o]=e,i=o);var u=r.split("-");if(!i&&u.length>1)return t(u[0])}else{var a=r.name;m[a]=r,i=a}return!n&&i&&(g=i),i||!n&&g},w=function(t,r){if(j(t))return t.clone();var e="object"==typeof r?r:{};return e.date=t,e.args=arguments,new O(e)},S=b;S.l=$,S.i=j,S.w=function(t,r){return w(t,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var O=function(){function y(t){this.$L=$(t.locale,null,!0),this.parse(t)}var _=y.prototype;return _.parse=function(t){this.$d=function(t){var r=t.date,e=t.utc;if(null===r)return new Date(NaN);if(S.u(r))return new Date;if(r instanceof Date)return new Date(r);if("string"==typeof r&&!/Z$/i.test(r)){var n=r.match(p);if(n){var i=n[2]-1||0,o=(n[7]||"0").substring(0,3);return e?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)}}return new Date(r)}(t),this.$x=t.x||{},this.init()},_.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},_.$utils=function(){return S},_.isValid=function(){return!(this.$d.toString()===v)},_.isSame=function(t,r){var e=w(t);return this.startOf(r)<=e&&e<=this.endOf(r)},_.isAfter=function(t,r){return w(t)<this.startOf(r)},_.isBefore=function(t,r){return this.endOf(r)<w(t)},_.$g=function(t,r,e){return S.u(t)?this[r]:this.set(e,t)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(t,r){var e=this,n=!!S.u(r)||r,f=S.p(t),v=function(t,r){var i=S.w(e.$u?Date.UTC(e.$y,r,t):new Date(e.$y,r,t),e);return n?i:i.endOf(a)},p=function(t,r){return S.w(e.toDate()[t].apply(e.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(r)),e)},d=this.$W,y=this.$M,_=this.$D,b="set"+(this.$u?"UTC":"");switch(f){case l:return n?v(1,0):v(31,11);case s:return n?v(1,y):v(0,y+1);case c:var g=this.$locale().weekStart||0,m=(d<g?d+7:d)-g;return v(n?_-m:_+(6-m),y);case a:case h:return p(b+"Hours",0);case u:return p(b+"Minutes",1);case o:return p(b+"Seconds",2);case i:return p(b+"Milliseconds",3);default:return this.clone()}},_.endOf=function(t){return this.startOf(t,!1)},_.$set=function(t,r){var e,c=S.p(t),f="set"+(this.$u?"UTC":""),v=(e={},e[a]=f+"Date",e[h]=f+"Date",e[s]=f+"Month",e[l]=f+"FullYear",e[u]=f+"Hours",e[o]=f+"Minutes",e[i]=f+"Seconds",e[n]=f+"Milliseconds",e)[c],p=c===a?this.$D+(r-this.$W):r;if(c===s||c===l){var d=this.clone().set(h,1);d.$d[v](p),d.init(),this.$d=d.set(h,Math.min(this.$D,d.daysInMonth())).$d}else v&&this.$d[v](p);return this.init(),this},_.set=function(t,r){return this.clone().$set(t,r)},_.get=function(t){return this[S.p(t)]()},_.add=function(n,f){var h,v=this;n=Number(n);var p=S.p(f),d=function(t){var r=w(v);return S.w(r.date(r.date()+Math.round(t*n)),v)};if(p===s)return this.set(s,this.$M+n);if(p===l)return this.set(l,this.$y+n);if(p===a)return d(1);if(p===c)return d(7);var y=(h={},h[o]=r,h[u]=e,h[i]=t,h)[p]||1,_=this.$d.getTime()+n*y;return S.w(_,this)},_.subtract=function(t,r){return this.add(-1*t,r)},_.format=function(t){var r=this,e=this.$locale();if(!this.isValid())return e.invalidDate||v;var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=S.z(this),o=this.$H,u=this.$m,a=this.$M,c=e.weekdays,s=e.months,f=function(t,e,i,o){return t&&(t[e]||t(r,n))||i[e].slice(0,o)},l=function(t){return S.s(o%12||12,t,"0")},h=e.meridiem||function(t,r,e){var n=t<12?"AM":"PM";return e?n.toLowerCase():n},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:S.s(a+1,2,"0"),MMM:f(e.monthsShort,a,s,3),MMMM:f(s,a),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:f(e.weekdaysMin,this.$W,c,2),ddd:f(e.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(o),HH:S.s(o,2,"0"),h:l(1),hh:l(2),a:h(o,u,!0),A:h(o,u,!1),m:String(u),mm:S.s(u,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:i};return n.replace(d,(function(t,r){return r||p[t]||i.replace(":","")}))},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(n,h,v){var p,d=S.p(h),y=w(n),_=(y.utcOffset()-this.utcOffset())*r,b=this-y,g=S.m(this,y);return g=(p={},p[l]=g/12,p[s]=g,p[f]=g/3,p[c]=(b-_)/6048e5,p[a]=(b-_)/864e5,p[u]=b/e,p[o]=b/r,p[i]=b/t,p)[d]||b,v?g:S.a(g)},_.daysInMonth=function(){return this.endOf(s).$D},_.$locale=function(){return m[this.$L]},_.locale=function(t,r){if(!t)return this.$L;var e=this.clone(),n=$(t,r,!0);return n&&(e.$L=n),e},_.clone=function(){return S.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},y}(),M=O.prototype;return w.prototype=M,[["$ms",n],["$s",i],["$m",o],["$H",u],["$W",a],["$M",s],["$y",l],["$D",h]].forEach((function(t){M[t[1]]=function(r){return this.$g(r,t[0],t[1])}})),w.extend=function(t,r){return t.$i||(t(r,O,w),t.$i=!0),w},w.locale=$,w.isDayjs=j,w.unix=function(t){return w(1e3*t)},w.en=m[g],w.Ls=m,w.p={},w}()}({get exports(){return Ao},set exports(t){Ao=t}});var zo=Ao;var Po=$,To=w;var ko=function(t){return!0===t||!1===t||To(t)&&"[object Boolean]"==Po(t)};var Fo={};var Io=di;var Yo=function(t,r){for(var e=-1,n=null==t?0:t.length;++e<n&&!1!==r(t[e],e,t););return t},Eo=Ti,Lo=function(t){return"function"==typeof t?t:Io},No=u;var Ho=function(t,r){return(No(t)?Yo:Eo)(t,Lo(r))};!function(t){t.exports=Ho}({get exports(){return Fo},set exports(t){Fo=t}});var Co=o(Fo),Wo=Vi;var Uo=function(t,r,e){var n=t.length;return e=void 0===e?n:e,!r&&e>=n?t:Wo(t,r,e)};var Bo=function(t,r,e,n){for(var i=t.length,o=e+(n?1:-1);n?o--:++o<i;)if(r(t[o],o,t))return o;return-1},qo=function(t){return t!=t},Vo=function(t,r,e){for(var n=e-1,i=t.length;++n<i;)if(t[n]===r)return n;return-1};var Ro=function(t,r,e){return r==r?Vo(t,r,e):Bo(t,qo,e)},Jo=Ro;var Zo=function(t,r){for(var e=t.length;e--&&Jo(r,t[e],0)>-1;);return e},Go=Ro;var Qo=function(t,r){for(var e=-1,n=t.length;++e<n&&Go(r,t[e],0)>-1;);return e};var Ko=function(t){return t.split("")},Xo=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var tu=function(t){return Xo.test(t)},ru="\\ud800-\\udfff",eu="["+ru+"]",nu="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",iu="\\ud83c[\\udffb-\\udfff]",ou="[^"+ru+"]",uu="(?:\\ud83c[\\udde6-\\uddff]){2}",au="[\\ud800-\\udbff][\\udc00-\\udfff]",cu="(?:"+nu+"|"+iu+")"+"?",su="[\\ufe0e\\ufe0f]?",fu=su+cu+("(?:\\u200d(?:"+[ou,uu,au].join("|")+")"+su+cu+")*"),lu="(?:"+[ou+nu+"?",nu,uu,au,eu].join("|")+")",hu=RegExp(iu+"(?="+iu+")|"+lu+fu,"g");var vu=Ko,pu=tu,du=function(t){return t.match(hu)||[]};var yu=sr,_u=Gi,bu=Uo,gu=Zo,mu=Qo,ju=function(t){return pu(t)?du(t):vu(t)},$u=lr;var wu=function(t,r,e){if((t=$u(t))&&(e||void 0===r))return _u(t);if(!t||!(r=yu(r)))return t;var n=ju(t),i=ju(r),o=mu(n,i),u=gu(n,i)+1;return bu(n,o,u).join("")};function Su(t,r){if(!yo(t))return[];if(!yo(r))return[];let e=function(t,r){return yo(t)&&yo(r)?t.split(r):[]}(t,r);e=Ni(e,wu);let n=[];return Co(e,(function(t){yo(t)&&n.push(t)})),n}function Ou(t){return!!r.existsSync(t)&&(!r.lstatSync(t).isDirectory()&&!r.lstatSync(t).isSymbolicLink())}function Mu(t){return!!r.existsSync(t)&&(!r.lstatSync(t).isFile()&&!r.lstatSync(t).isSymbolicLink())}function Du(t){if(!r.existsSync(t))return{success:"folder does not exist: "+t};if(!Mu(t))return{error:"input path is not folder: "+t};try{r.readdirSync(t).forEach((function(e){let n=t+"/"+e;if(r.lstatSync(n).isDirectory())Du(n);else try{r.unlinkSync(n)}catch(t){}}))}catch(t){return{error:t}}try{r.rmdirSync(t)}catch(t){return{error:t}}return{success:"done: "+t}}let xu=t.resolve();return async function(i){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=null,a=wr(o,"fdOutPre");yo(a)||(a="_");let c=wr(o,"readWithData");if(ko(c)||(c=!0),"win32"!==e.platform)return Promise.reject("operating system is not windows");if(!Ou(i))return Promise.reject("fp is not a file");let s="mseed2ascii-2.6",f=`${xu}/node_modules/w-data-mseed/${s}/`,l=`${xu}/${s}/`;Mu(f)&&(l=f);let h=t.resolve(l,"mseed2ascii.exe");h=`"${h}"`;let v=t.resolve(xu,`${a}${zo().format("YYYYMMDDHHmmss")}-${function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,r=[];t=Mo(t)?Oo(t):32;for(let e=0;e<t;e++)r[e]=Do[0|Math.random()*xo];return r.join("")}(6)}`);Mu(v)||function(t){if(Mu(t))return{success:"input folder is already exists: "+t};if(r.existsSync(t))return{error:"input path already exists: "+t};try{r.mkdirSync(t,{recursive:!0})}catch(t){return{error:t}}}(v);let p="temp.mseed",d=t.resolve(v,p);try{r.copyFileSync(i,d)}catch(t){return console.log("copyFileSync",t),Promise.reject("copyFileSync error")}if(!Ou(d))return console.log("fpIn is not file",d),Promise.reject("fpIn is not file");let y=`-G "${d}"`,_=e.cwd(),b=v;if(e.chdir(b),await function(t,r){function e(t){try{return t.toString("utf8")}catch(t){}return""}return new Promise((function(i,o){let u="";n.exec(`${t} ${r}`,((t,r,n)=>{if(t)return o(t);yo(r=e(r))&&(u+=r),yo(n=e(n))&&(u+=n)})).on("close",(t=>{i(u)}))}))}(h,y).catch((t=>{console.log("execProcess catch",t),u="execProcess error"})),e.chdir(_),yo(u))return Promise.reject(u);let g=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=1;return function e(o){let u=[],a=r.readdirSync(o);return Co(a,(function(a){let c=t.resolve(o,a),s=null;try{s=r.statSync(c)}catch(t){}s&&s.isDirectory()?(u.push({isFolder:!0,level:i,path:c,name:t.basename(c)}),i+=1,(i<=n||null===n)&&(u=u.concat(e(c))),i-=1):u.push({isFolder:!1,level:i,path:c,name:t.basename(c)})})),u}(e)}(v);function m(t){let e,n=Su(r.readFileSync(t,"utf8"),"\n");e=wr(n,0,""),e=e.replace("# dataset: ","");let i=e;e=wr(n,2,""),e=e.replace("# SID: ","");let o=e;e=wr(n,3,""),e=e.replace("# sample_count: ","");let u=e;e=wr(n,4,""),e=e.replace("# sample_rate_hz: ","");let a=e;e=wr(n,5,""),e=e.replace("# start_time: ","");let c=e;e=wr(n,6,""),e=e.replace("# field_unit: ","");let s=e;e=wr(n,7,""),e=e.replace("# field_type: ","");let f={dataset:i,SID:o,sample_count:u,sample_rate_hz:a,start_time:c,field_unit:s,field_type:e},l=ho(n,9);return l=Ni(l,bo),{heads:f,records:l}}g=qi(g,(t=>t.name!==p)),g=Ni(g,(t=>({name:t.name,path:t.path,data:null})));try{r.unlinkSync(d)}catch(t){}return c&&(g=Ni(g,(t=>({name:t.name,path:null,data:m(t.path)}))),Du(v)),g}}));
//# sourceMappingURL=w-data-mseed.umd.js.map
