/*!
 * w-data-mseed v1.0.7
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("path"),require("fs"),require("process"),require("child_process")):"function"==typeof define&&define.amd?define(["path","fs","process","child_process"],r):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-data-mseed"]=r(t.path,t.fs,t.process,t.child_process)}(this,(function(t,r,e,n){"use strict";var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function u(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o=Array.isArray,a="object"==typeof i&&i&&i.Object===Object&&i,c=a,s="object"==typeof self&&self&&self.Object===Object&&self,f=c||s||Function("return this")(),l=f.Symbol,v=l,h=Object.prototype,d=h.hasOwnProperty,p=h.toString,y=v?v.toStringTag:void 0;var b=function(t){var r=d.call(t,y),e=t[y];try{t[y]=void 0;var n=!0}catch(t){}var i=p.call(t);return n&&(r?t[y]=e:delete t[y]),i},_=Object.prototype.toString;var g=b,m=function(t){return _.call(t)},j=l?l.toStringTag:void 0;var $=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":j&&j in Object(t)?g(t):m(t)};var w=function(t){return null!=t&&"object"==typeof t},S=$,O=w;var M=function(t){return"symbol"==typeof t||O(t)&&"[object Symbol]"==S(t)},D=o,x=M,A=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k=/^\w*$/;var z=function(t,r){if(D(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!x(t))||(k.test(t)||!A.test(t)||null!=r&&t in Object(r))};var P=function(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)},T=$,F=P;var I,Y=function(t){if(!F(t))return!1;var r=T(t);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r},E=f["__core-js_shared__"],L=(I=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+I:"";var N=function(t){return!!L&&L in t},H=Function.prototype.toString;var C=function(t){if(null!=t){try{return H.call(t)}catch(t){}try{return t+""}catch(t){}}return""},W=Y,U=N,B=P,q=C,V=/^\[object .+?Constructor\]$/,R=Function.prototype,J=Object.prototype,Z=R.toString,G=J.hasOwnProperty,Q=RegExp("^"+Z.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var K=function(t){return!(!B(t)||U(t))&&(W(t)?Q:V).test(q(t))},X=function(t,r){return null==t?void 0:t[r]};var tt=function(t,r){var e=X(t,r);return K(e)?e:void 0},rt=tt(Object,"create"),et=rt;var nt=function(){this.__data__=et?et(null):{},this.size=0};var it=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},ut=rt,ot=Object.prototype.hasOwnProperty;var at=function(t){var r=this.__data__;if(ut){var e=r[t];return"__lodash_hash_undefined__"===e?void 0:e}return ot.call(r,t)?r[t]:void 0},ct=rt,st=Object.prototype.hasOwnProperty;var ft=rt;var lt=nt,vt=it,ht=at,dt=function(t){var r=this.__data__;return ct?void 0!==r[t]:st.call(r,t)},pt=function(t,r){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=ft&&void 0===r?"__lodash_hash_undefined__":r,this};function yt(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}yt.prototype.clear=lt,yt.prototype.delete=vt,yt.prototype.get=ht,yt.prototype.has=dt,yt.prototype.set=pt;var bt=yt;var _t=function(){this.__data__=[],this.size=0};var gt=function(t,r){return t===r||t!=t&&r!=r},mt=gt;var jt=function(t,r){for(var e=t.length;e--;)if(mt(t[e][0],r))return e;return-1},$t=jt,wt=Array.prototype.splice;var St=jt;var Ot=jt;var Mt=jt;var Dt=_t,xt=function(t){var r=this.__data__,e=$t(r,t);return!(e<0)&&(e==r.length-1?r.pop():wt.call(r,e,1),--this.size,!0)},At=function(t){var r=this.__data__,e=St(r,t);return e<0?void 0:r[e][1]},kt=function(t){return Ot(this.__data__,t)>-1},zt=function(t,r){var e=this.__data__,n=Mt(e,t);return n<0?(++this.size,e.push([t,r])):e[n][1]=r,this};function Pt(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}Pt.prototype.clear=Dt,Pt.prototype.delete=xt,Pt.prototype.get=At,Pt.prototype.has=kt,Pt.prototype.set=zt;var Tt=Pt,Ft=tt(f,"Map"),It=bt,Yt=Tt,Et=Ft;var Lt=function(t){var r=typeof t;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t};var Nt=function(t,r){var e=t.__data__;return Lt(r)?e["string"==typeof r?"string":"hash"]:e.map},Ht=Nt;var Ct=Nt;var Wt=Nt;var Ut=Nt;var Bt=function(){this.size=0,this.__data__={hash:new It,map:new(Et||Yt),string:new It}},qt=function(t){var r=Ht(this,t).delete(t);return this.size-=r?1:0,r},Vt=function(t){return Ct(this,t).get(t)},Rt=function(t){return Wt(this,t).has(t)},Jt=function(t,r){var e=Ut(this,t),n=e.size;return e.set(t,r),this.size+=e.size==n?0:1,this};function Zt(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}Zt.prototype.clear=Bt,Zt.prototype.delete=qt,Zt.prototype.get=Vt,Zt.prototype.has=Rt,Zt.prototype.set=Jt;var Gt=Zt,Qt=Gt;function Kt(t,r){if("function"!=typeof t||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var e=function(){var n=arguments,i=r?r.apply(this,n):n[0],u=e.cache;if(u.has(i))return u.get(i);var o=t.apply(this,n);return e.cache=u.set(i,o)||u,o};return e.cache=new(Kt.Cache||Qt),e}Kt.Cache=Qt;var Xt=Kt;var tr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rr=/\\(\\)?/g,er=function(t){var r=Xt(t,(function(t){return 500===e.size&&e.clear(),t})),e=r.cache;return r}((function(t){var r=[];return 46===t.charCodeAt(0)&&r.push(""),t.replace(tr,(function(t,e,n,i){r.push(n?i.replace(rr,"$1"):e||t)})),r}));var nr=function(t,r){for(var e=-1,n=null==t?0:t.length,i=Array(n);++e<n;)i[e]=r(t[e],e,t);return i},ir=nr,ur=o,or=M,ar=l?l.prototype:void 0,cr=ar?ar.toString:void 0;var sr=function t(r){if("string"==typeof r)return r;if(ur(r))return ir(r,t)+"";if(or(r))return cr?cr.call(r):"";var e=r+"";return"0"==e&&1/r==-Infinity?"-0":e},fr=sr;var lr=function(t){return null==t?"":fr(t)},vr=o,hr=z,dr=er,pr=lr;var yr=function(t,r){return vr(t)?t:hr(t,r)?[t]:dr(pr(t))},br=M;var _r=function(t){if("string"==typeof t||br(t))return t;var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r},gr=yr,mr=_r;var jr=function(t,r){for(var e=0,n=(r=gr(r,t)).length;null!=t&&e<n;)t=t[mr(r[e++])];return e&&e==n?t:void 0},$r=jr;var wr=function(t,r,e){var n=null==t?void 0:$r(t,r);return void 0===n?e:n},Sr=Tt;var Or=Tt,Mr=Ft,Dr=Gt;var xr=Tt,Ar=function(){this.__data__=new Sr,this.size=0},kr=function(t){var r=this.__data__,e=r.delete(t);return this.size=r.size,e},zr=function(t){return this.__data__.get(t)},Pr=function(t){return this.__data__.has(t)},Tr=function(t,r){var e=this.__data__;if(e instanceof Or){var n=e.__data__;if(!Mr||n.length<199)return n.push([t,r]),this.size=++e.size,this;e=this.__data__=new Dr(n)}return e.set(t,r),this.size=e.size,this};function Fr(t){var r=this.__data__=new xr(t);this.size=r.size}Fr.prototype.clear=Ar,Fr.prototype.delete=kr,Fr.prototype.get=zr,Fr.prototype.has=Pr,Fr.prototype.set=Tr;var Ir=Fr;var Yr=Gt,Er=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Lr=function(t){return this.__data__.has(t)};function Nr(t){var r=-1,e=null==t?0:t.length;for(this.__data__=new Yr;++r<e;)this.add(t[r])}Nr.prototype.add=Nr.prototype.push=Er,Nr.prototype.has=Lr;var Hr=Nr,Cr=function(t,r){for(var e=-1,n=null==t?0:t.length;++e<n;)if(r(t[e],e,t))return!0;return!1},Wr=function(t,r){return t.has(r)};var Ur=function(t,r,e,n,i,u){var o=1&e,a=t.length,c=r.length;if(a!=c&&!(o&&c>a))return!1;var s=u.get(t),f=u.get(r);if(s&&f)return s==r&&f==t;var l=-1,v=!0,h=2&e?new Hr:void 0;for(u.set(t,r),u.set(r,t);++l<a;){var d=t[l],p=r[l];if(n)var y=o?n(p,d,l,r,t,u):n(d,p,l,t,r,u);if(void 0!==y){if(y)continue;v=!1;break}if(h){if(!Cr(r,(function(t,r){if(!Wr(h,r)&&(d===t||i(d,t,e,n,u)))return h.push(r)}))){v=!1;break}}else if(d!==p&&!i(d,p,e,n,u)){v=!1;break}}return u.delete(t),u.delete(r),v};var Br=function(t){var r=-1,e=Array(t.size);return t.forEach((function(t,n){e[++r]=[n,t]})),e};var qr=f.Uint8Array,Vr=gt,Rr=Ur,Jr=Br,Zr=function(t){var r=-1,e=Array(t.size);return t.forEach((function(t){e[++r]=t})),e},Gr=l?l.prototype:void 0,Qr=Gr?Gr.valueOf:void 0;var Kr=function(t,r,e,n,i,u,o){switch(e){case"[object DataView]":if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)return!1;t=t.buffer,r=r.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=r.byteLength||!u(new qr(t),new qr(r)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Vr(+t,+r);case"[object Error]":return t.name==r.name&&t.message==r.message;case"[object RegExp]":case"[object String]":return t==r+"";case"[object Map]":var a=Jr;case"[object Set]":var c=1&n;if(a||(a=Zr),t.size!=r.size&&!c)return!1;var s=o.get(t);if(s)return s==r;n|=2,o.set(t,r);var f=Rr(a(t),a(r),n,i,u,o);return o.delete(t),f;case"[object Symbol]":if(Qr)return Qr.call(t)==Qr.call(r)}return!1};var Xr=function(t,r){for(var e=-1,n=r.length,i=t.length;++e<n;)t[i+e]=r[e];return t},te=o;var re=function(t,r,e){var n=r(t);return te(t)?n:Xr(n,e(t))};var ee=function(t,r){for(var e=-1,n=null==t?0:t.length,i=0,u=[];++e<n;){var o=t[e];r(o,e,t)&&(u[i++]=o)}return u};var ne=ee,ie=function(){return[]},ue=Object.prototype.propertyIsEnumerable,oe=Object.getOwnPropertySymbols,ae=oe?function(t){return null==t?[]:(t=Object(t),ne(oe(t),(function(r){return ue.call(t,r)})))}:ie;var ce=function(t,r){for(var e=-1,n=Array(t);++e<t;)n[e]=r(e);return n},se=$,fe=w;var le=function(t){return fe(t)&&"[object Arguments]"==se(t)},ve=w,he=Object.prototype,de=he.hasOwnProperty,pe=he.propertyIsEnumerable,ye=le(function(){return arguments}())?le:function(t){return ve(t)&&de.call(t,"callee")&&!pe.call(t,"callee")},be=ye,_e={};var ge=function(){return!1};!function(t,r){var e=f,n=ge,i=r&&!r.nodeType&&r,u=i&&t&&!t.nodeType&&t,o=u&&u.exports===i?e.Buffer:void 0,a=(o?o.isBuffer:void 0)||n;t.exports=a}({get exports(){return _e},set exports(t){_e=t}},_e);var me=/^(?:0|[1-9]\d*)$/;var je=function(t,r){var e=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==e||"symbol"!=e&&me.test(t))&&t>-1&&t%1==0&&t<r};var $e=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},we=$,Se=$e,Oe=w,Me={};Me["[object Float32Array]"]=Me["[object Float64Array]"]=Me["[object Int8Array]"]=Me["[object Int16Array]"]=Me["[object Int32Array]"]=Me["[object Uint8Array]"]=Me["[object Uint8ClampedArray]"]=Me["[object Uint16Array]"]=Me["[object Uint32Array]"]=!0,Me["[object Arguments]"]=Me["[object Array]"]=Me["[object ArrayBuffer]"]=Me["[object Boolean]"]=Me["[object DataView]"]=Me["[object Date]"]=Me["[object Error]"]=Me["[object Function]"]=Me["[object Map]"]=Me["[object Number]"]=Me["[object Object]"]=Me["[object RegExp]"]=Me["[object Set]"]=Me["[object String]"]=Me["[object WeakMap]"]=!1;var De=function(t){return Oe(t)&&Se(t.length)&&!!Me[we(t)]};var xe=function(t){return function(r){return t(r)}},Ae={};!function(t,r){var e=a,n=r&&!r.nodeType&&r,i=n&&t&&!t.nodeType&&t,u=i&&i.exports===n&&e.process,o=function(){try{var t=i&&i.require&&i.require("util").types;return t||u&&u.binding&&u.binding("util")}catch(t){}}();t.exports=o}({get exports(){return Ae},set exports(t){Ae=t}},Ae);var ke=De,ze=xe,Pe=Ae&&Ae.isTypedArray,Te=Pe?ze(Pe):ke,Fe=ce,Ie=be,Ye=o,Ee=_e,Le=je,Ne=Te,He=Object.prototype.hasOwnProperty;var Ce=function(t,r){var e=Ye(t),n=!e&&Ie(t),i=!e&&!n&&Ee(t),u=!e&&!n&&!i&&Ne(t),o=e||n||i||u,a=o?Fe(t.length,String):[],c=a.length;for(var s in t)!r&&!He.call(t,s)||o&&("length"==s||i&&("offset"==s||"parent"==s)||u&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Le(s,c))||a.push(s);return a},We=Object.prototype;var Ue=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||We)};var Be=function(t,r){return function(e){return t(r(e))}}(Object.keys,Object),qe=Ue,Ve=Be,Re=Object.prototype.hasOwnProperty;var Je=Y,Ze=$e;var Ge=function(t){return null!=t&&Ze(t.length)&&!Je(t)},Qe=Ce,Ke=function(t){if(!qe(t))return Ve(t);var r=[];for(var e in Object(t))Re.call(t,e)&&"constructor"!=e&&r.push(e);return r},Xe=Ge;var tn=function(t){return Xe(t)?Qe(t):Ke(t)},rn=re,en=ae,nn=tn;var un=function(t){return rn(t,nn,en)},on=Object.prototype.hasOwnProperty;var an=function(t,r,e,n,i,u){var o=1&e,a=un(t),c=a.length;if(c!=un(r).length&&!o)return!1;for(var s=c;s--;){var f=a[s];if(!(o?f in r:on.call(r,f)))return!1}var l=u.get(t),v=u.get(r);if(l&&v)return l==r&&v==t;var h=!0;u.set(t,r),u.set(r,t);for(var d=o;++s<c;){var p=t[f=a[s]],y=r[f];if(n)var b=o?n(y,p,f,r,t,u):n(p,y,f,t,r,u);if(!(void 0===b?p===y||i(p,y,e,n,u):b)){h=!1;break}d||(d="constructor"==f)}if(h&&!d){var _=t.constructor,g=r.constructor;_==g||!("constructor"in t)||!("constructor"in r)||"function"==typeof _&&_ instanceof _&&"function"==typeof g&&g instanceof g||(h=!1)}return u.delete(t),u.delete(r),h},cn=tt(f,"DataView"),sn=Ft,fn=tt(f,"Promise"),ln=tt(f,"Set"),vn=tt(f,"WeakMap"),hn=$,dn=C,pn="[object Map]",yn="[object Promise]",bn="[object Set]",_n="[object WeakMap]",gn="[object DataView]",mn=dn(cn),jn=dn(sn),$n=dn(fn),wn=dn(ln),Sn=dn(vn),On=hn;(cn&&On(new cn(new ArrayBuffer(1)))!=gn||sn&&On(new sn)!=pn||fn&&On(fn.resolve())!=yn||ln&&On(new ln)!=bn||vn&&On(new vn)!=_n)&&(On=function(t){var r=hn(t),e="[object Object]"==r?t.constructor:void 0,n=e?dn(e):"";if(n)switch(n){case mn:return gn;case jn:return pn;case $n:return yn;case wn:return bn;case Sn:return _n}return r});var Mn=Ir,Dn=Ur,xn=Kr,An=an,kn=On,zn=o,Pn=_e,Tn=Te,Fn="[object Arguments]",In="[object Array]",Yn="[object Object]",En=Object.prototype.hasOwnProperty;var Ln=function(t,r,e,n,i,u){var o=zn(t),a=zn(r),c=o?In:kn(t),s=a?In:kn(r),f=(c=c==Fn?Yn:c)==Yn,l=(s=s==Fn?Yn:s)==Yn,v=c==s;if(v&&Pn(t)){if(!Pn(r))return!1;o=!0,f=!1}if(v&&!f)return u||(u=new Mn),o||Tn(t)?Dn(t,r,e,n,i,u):xn(t,r,c,e,n,i,u);if(!(1&e)){var h=f&&En.call(t,"__wrapped__"),d=l&&En.call(r,"__wrapped__");if(h||d){var p=h?t.value():t,y=d?r.value():r;return u||(u=new Mn),i(p,y,e,n,u)}}return!!v&&(u||(u=new Mn),An(t,r,e,n,i,u))},Nn=w;var Hn=function t(r,e,n,i,u){return r===e||(null==r||null==e||!Nn(r)&&!Nn(e)?r!=r&&e!=e:Ln(r,e,n,i,t,u))},Cn=Ir,Wn=Hn;var Un=P;var Bn=function(t){return t==t&&!Un(t)},qn=Bn,Vn=tn;var Rn=function(t,r){return function(e){return null!=e&&(e[t]===r&&(void 0!==r||t in Object(e)))}},Jn=function(t,r,e,n){var i=e.length,u=i,o=!n;if(null==t)return!u;for(t=Object(t);i--;){var a=e[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<u;){var c=(a=e[i])[0],s=t[c],f=a[1];if(o&&a[2]){if(void 0===s&&!(c in t))return!1}else{var l=new Cn;if(n)var v=n(s,f,c,t,r,l);if(!(void 0===v?Wn(f,s,3,n,l):v))return!1}}return!0},Zn=function(t){for(var r=Vn(t),e=r.length;e--;){var n=r[e],i=t[n];r[e]=[n,i,qn(i)]}return r},Gn=Rn;var Qn=yr,Kn=be,Xn=o,ti=je,ri=$e,ei=_r;var ni=function(t,r,e){for(var n=-1,i=(r=Qn(r,t)).length,u=!1;++n<i;){var o=ei(r[n]);if(!(u=null!=t&&e(t,o)))break;t=t[o]}return u||++n!=i?u:!!(i=null==t?0:t.length)&&ri(i)&&ti(o,i)&&(Xn(t)||Kn(t))},ii=function(t,r){return null!=t&&r in Object(t)},ui=ni;var oi=function(t,r){return null!=t&&ui(t,r,ii)},ai=Hn,ci=wr,si=oi,fi=z,li=Bn,vi=Rn,hi=_r;var di=function(t,r){return fi(t)&&li(r)?vi(hi(t),r):function(e){var n=ci(e,t);return void 0===n&&n===r?si(e,t):ai(r,n,3)}};var pi=function(t){return t};var yi=jr;var bi=function(t){return function(r){return yi(r,t)}},_i=function(t){return function(r){return null==r?void 0:r[t]}},gi=bi,mi=z,ji=_r;var $i=function(t){return mi(t)?_i(ji(t)):gi(t)},wi=function(t){var r=Zn(t);return 1==r.length&&r[0][2]?Gn(r[0][0],r[0][1]):function(e){return e===t||Jn(e,t,r)}},Si=di,Oi=pi,Mi=o,Di=$i;var xi=function(t){return"function"==typeof t?t:null==t?Oi:"object"==typeof t?Mi(t)?Si(t[0],t[1]):wi(t):Di(t)};var Ai=function(t){return function(r,e,n){for(var i=-1,u=Object(r),o=n(r),a=o.length;a--;){var c=o[t?a:++i];if(!1===e(u[c],c,u))break}return r}}(),ki=tn;var zi=Ge;var Pi=function(t,r){return function(e,n){if(null==e)return e;if(!zi(e))return t(e,n);for(var i=e.length,u=r?i:-1,o=Object(e);(r?u--:++u<i)&&!1!==n(o[u],u,o););return e}}((function(t,r){return t&&Ai(t,r,ki)})),Ti=Pi,Fi=Ge;var Ii=nr,Yi=xi,Ei=function(t,r){var e=-1,n=Fi(t)?Array(t.length):[];return Ti(t,(function(t,i,u){n[++e]=r(t,i,u)})),n},Li=o;var Ni=function(t,r){return(Li(t)?Ii:Ei)(t,Yi(r))},Hi=Pi;var Ci=ee,Wi=function(t,r){var e=[];return Hi(t,(function(t,n,i){r(t,n,i)&&e.push(t)})),e},Ui=xi,Bi=o;var qi=function(t,r){return(Bi(t)?Ci:Wi)(t,Ui(r))};var Vi=function(t,r,e){var n=-1,i=t.length;r<0&&(r=-r>i?0:i+r),(e=e>i?i:e)<0&&(e+=i),i=r>e?0:e-r>>>0,r>>>=0;for(var u=Array(i);++n<i;)u[n]=t[n+r];return u},Ri=/\s/;var Ji=function(t){for(var r=t.length;r--&&Ri.test(t.charAt(r)););return r},Zi=/^\s+/;var Gi=function(t){return t?t.slice(0,Ji(t)+1).replace(Zi,""):t},Qi=Gi,Ki=P,Xi=M,tu=/^[-+]0x[0-9a-f]+$/i,ru=/^0b[01]+$/i,eu=/^0o[0-7]+$/i,nu=parseInt;var iu=function(t){if("number"==typeof t)return t;if(Xi(t))return NaN;if(Ki(t)){var r="function"==typeof t.valueOf?t.valueOf():t;t=Ki(r)?r+"":r}if("string"!=typeof t)return 0===t?t:+t;t=Qi(t);var e=ru.test(t);return e||eu.test(t)?nu(t.slice(2),e?2:8):tu.test(t)?NaN:+t},uu=iu,ou=1/0;var au=function(t){return t?(t=uu(t))===ou||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0},cu=au;var su=function(t){var r=cu(t),e=r%1;return r==r?e?r-e:r:0},fu=Vi,lu=su;var vu=function(t,r,e){var n=null==t?0:t.length;return n?(r=e||void 0===r?1:lu(r),fu(t,r<0?0:r,n)):[]},hu=su;var du=function(t){return"number"==typeof t&&t==hu(t)};function pu(t){return!(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)||""===t)}function yu(t){let r=!1;if(pu(t))r=!isNaN(Number(t));else if(function(t){return"[object Number]"===Object.prototype.toString.call(t)}(t)){if(function(t){return t!=t}(t))return!1;r=!0}return r}function bu(t){if(!yu(t))return 0;return au(t)}var _u=su,gu=iu,mu=lr,ju=f.isFinite,$u=Math.min;var wu=function(t){var r=Math[t];return function(t,e){if(t=gu(t),(e=null==e?0:$u(_u(e),292))&&ju(t)){var n=(mu(t)+"e").split("e"),i=r(n[0]+"e"+(+n[1]+e));return+((n=(mu(i)+"e").split("e"))[0]+"e"+(+n[1]-e))}return r(t)}}("round");function Su(t){if(!yu(t))return 0;t=bu(t);let r=wu(t);return"0"===String(r)?0:r}function Ou(t){if(!function(t){return!!yu(t)&&(t=bu(t),du(t))}(t))return!1;return Su(t)>0}let Mu="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),Du=Mu.length;var xu={};!function(t,r){t.exports=function(){var t=1e3,r=6e4,e=36e5,n="millisecond",i="second",u="minute",o="hour",a="day",c="week",s="month",f="quarter",l="year",v="date",h="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var r=["th","st","nd","rd"],e=t%100;return"["+t+(r[(e-20)%10]||r[e]||r[0])+"]"}},b=function(t,r,e){var n=String(t);return!n||n.length>=r?t:""+Array(r+1-n.length).join(e)+t},_={s:b,z:function(t){var r=-t.utcOffset(),e=Math.abs(r),n=Math.floor(e/60),i=e%60;return(r<=0?"+":"-")+b(n,2,"0")+":"+b(i,2,"0")},m:function t(r,e){if(r.date()<e.date())return-t(e,r);var n=12*(e.year()-r.year())+(e.month()-r.month()),i=r.clone().add(n,s),u=e-i<0,o=r.clone().add(n+(u?-1:1),s);return+(-(n+(e-i)/(u?i-o:o-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:s,y:l,w:c,d:a,D:v,h:o,m:u,s:i,ms:n,Q:f}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",m={};m[g]=y;var j="$isDayjsObject",$=function(t){return t instanceof M||!(!t||!t[j])},w=function t(r,e,n){var i;if(!r)return g;if("string"==typeof r){var u=r.toLowerCase();m[u]&&(i=u),e&&(m[u]=e,i=u);var o=r.split("-");if(!i&&o.length>1)return t(o[0])}else{var a=r.name;m[a]=r,i=a}return!n&&i&&(g=i),i||!n&&g},S=function(t,r){if($(t))return t.clone();var e="object"==typeof r?r:{};return e.date=t,e.args=arguments,new M(e)},O=_;O.l=w,O.i=$,O.w=function(t,r){return S(t,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var M=function(){function y(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[j]=!0}var b=y.prototype;return b.parse=function(t){this.$d=function(t){var r=t.date,e=t.utc;if(null===r)return new Date(NaN);if(O.u(r))return new Date;if(r instanceof Date)return new Date(r);if("string"==typeof r&&!/Z$/i.test(r)){var n=r.match(d);if(n){var i=n[2]-1||0,u=(n[7]||"0").substring(0,3);return e?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,u)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,u)}}return new Date(r)}(t),this.init()},b.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},b.$utils=function(){return O},b.isValid=function(){return!(this.$d.toString()===h)},b.isSame=function(t,r){var e=S(t);return this.startOf(r)<=e&&e<=this.endOf(r)},b.isAfter=function(t,r){return S(t)<this.startOf(r)},b.isBefore=function(t,r){return this.endOf(r)<S(t)},b.$g=function(t,r,e){return O.u(t)?this[r]:this.set(e,t)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(t,r){var e=this,n=!!O.u(r)||r,f=O.p(t),h=function(t,r){var i=O.w(e.$u?Date.UTC(e.$y,r,t):new Date(e.$y,r,t),e);return n?i:i.endOf(a)},d=function(t,r){return O.w(e.toDate()[t].apply(e.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(r)),e)},p=this.$W,y=this.$M,b=this.$D,_="set"+(this.$u?"UTC":"");switch(f){case l:return n?h(1,0):h(31,11);case s:return n?h(1,y):h(0,y+1);case c:var g=this.$locale().weekStart||0,m=(p<g?p+7:p)-g;return h(n?b-m:b+(6-m),y);case a:case v:return d(_+"Hours",0);case o:return d(_+"Minutes",1);case u:return d(_+"Seconds",2);case i:return d(_+"Milliseconds",3);default:return this.clone()}},b.endOf=function(t){return this.startOf(t,!1)},b.$set=function(t,r){var e,c=O.p(t),f="set"+(this.$u?"UTC":""),h=(e={},e[a]=f+"Date",e[v]=f+"Date",e[s]=f+"Month",e[l]=f+"FullYear",e[o]=f+"Hours",e[u]=f+"Minutes",e[i]=f+"Seconds",e[n]=f+"Milliseconds",e)[c],d=c===a?this.$D+(r-this.$W):r;if(c===s||c===l){var p=this.clone().set(v,1);p.$d[h](d),p.init(),this.$d=p.set(v,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](d);return this.init(),this},b.set=function(t,r){return this.clone().$set(t,r)},b.get=function(t){return this[O.p(t)]()},b.add=function(n,f){var v,h=this;n=Number(n);var d=O.p(f),p=function(t){var r=S(h);return O.w(r.date(r.date()+Math.round(t*n)),h)};if(d===s)return this.set(s,this.$M+n);if(d===l)return this.set(l,this.$y+n);if(d===a)return p(1);if(d===c)return p(7);var y=(v={},v[u]=r,v[o]=e,v[i]=t,v)[d]||1,b=this.$d.getTime()+n*y;return O.w(b,this)},b.subtract=function(t,r){return this.add(-1*t,r)},b.format=function(t){var r=this,e=this.$locale();if(!this.isValid())return e.invalidDate||h;var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=O.z(this),u=this.$H,o=this.$m,a=this.$M,c=e.weekdays,s=e.months,f=e.meridiem,l=function(t,e,i,u){return t&&(t[e]||t(r,n))||i[e].slice(0,u)},v=function(t){return O.s(u%12||12,t,"0")},d=f||function(t,r,e){var n=t<12?"AM":"PM";return e?n.toLowerCase():n};return n.replace(p,(function(t,n){return n||function(t){switch(t){case"YY":return String(r.$y).slice(-2);case"YYYY":return O.s(r.$y,4,"0");case"M":return a+1;case"MM":return O.s(a+1,2,"0");case"MMM":return l(e.monthsShort,a,s,3);case"MMMM":return l(s,a);case"D":return r.$D;case"DD":return O.s(r.$D,2,"0");case"d":return String(r.$W);case"dd":return l(e.weekdaysMin,r.$W,c,2);case"ddd":return l(e.weekdaysShort,r.$W,c,3);case"dddd":return c[r.$W];case"H":return String(u);case"HH":return O.s(u,2,"0");case"h":return v(1);case"hh":return v(2);case"a":return d(u,o,!0);case"A":return d(u,o,!1);case"m":return String(o);case"mm":return O.s(o,2,"0");case"s":return String(r.$s);case"ss":return O.s(r.$s,2,"0");case"SSS":return O.s(r.$ms,3,"0");case"Z":return i}return null}(t)||i.replace(":","")}))},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(n,v,h){var d,p=this,y=O.p(v),b=S(n),_=(b.utcOffset()-this.utcOffset())*r,g=this-b,m=function(){return O.m(p,b)};switch(y){case l:d=m()/12;break;case s:d=m();break;case f:d=m()/3;break;case c:d=(g-_)/6048e5;break;case a:d=(g-_)/864e5;break;case o:d=g/e;break;case u:d=g/r;break;case i:d=g/t;break;default:d=g}return h?d:O.a(d)},b.daysInMonth=function(){return this.endOf(s).$D},b.$locale=function(){return m[this.$L]},b.locale=function(t,r){if(!t)return this.$L;var e=this.clone(),n=w(t,r,!0);return n&&(e.$L=n),e},b.clone=function(){return O.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},y}(),D=M.prototype;return S.prototype=D,[["$ms",n],["$s",i],["$m",u],["$H",o],["$W",a],["$M",s],["$y",l],["$D",v]].forEach((function(t){D[t[1]]=function(r){return this.$g(r,t[0],t[1])}})),S.extend=function(t,r){return t.$i||(t(r,M,S),t.$i=!0),S},S.locale=w,S.isDayjs=$,S.unix=function(t){return S(1e3*t)},S.en=m[g],S.Ls=m,S.p={},S}()}({get exports(){return xu},set exports(t){xu=t}});var Au=xu;var ku=$,zu=w;var Pu=function(t){return!0===t||!1===t||zu(t)&&"[object Boolean]"==ku(t)};var Tu={};var Fu=pi;var Iu=function(t,r){for(var e=-1,n=null==t?0:t.length;++e<n&&!1!==r(t[e],e,t););return t},Yu=Pi,Eu=function(t){return"function"==typeof t?t:Fu},Lu=o;var Nu=function(t,r){return(Lu(t)?Iu:Yu)(t,Eu(r))};!function(t){t.exports=Nu}({get exports(){return Tu},set exports(t){Tu=t}});var Hu=u(Tu),Cu=Vi;var Wu=function(t,r,e){var n=t.length;return e=void 0===e?n:e,!r&&e>=n?t:Cu(t,r,e)};var Uu=function(t,r,e,n){for(var i=t.length,u=e+(n?1:-1);n?u--:++u<i;)if(r(t[u],u,t))return u;return-1},Bu=function(t){return t!=t},qu=function(t,r,e){for(var n=e-1,i=t.length;++n<i;)if(t[n]===r)return n;return-1};var Vu=function(t,r,e){return r==r?qu(t,r,e):Uu(t,Bu,e)},Ru=Vu;var Ju=function(t,r){for(var e=t.length;e--&&Ru(r,t[e],0)>-1;);return e},Zu=Vu;var Gu=function(t,r){for(var e=-1,n=t.length;++e<n&&Zu(r,t[e],0)>-1;);return e};var Qu=function(t){return t.split("")},Ku=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Xu=function(t){return Ku.test(t)},to="\\ud800-\\udfff",ro="["+to+"]",eo="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",no="\\ud83c[\\udffb-\\udfff]",io="[^"+to+"]",uo="(?:\\ud83c[\\udde6-\\uddff]){2}",oo="[\\ud800-\\udbff][\\udc00-\\udfff]",ao="(?:"+eo+"|"+no+")"+"?",co="[\\ufe0e\\ufe0f]?",so=co+ao+("(?:\\u200d(?:"+[io,uo,oo].join("|")+")"+co+ao+")*"),fo="(?:"+[io+eo+"?",eo,uo,oo,ro].join("|")+")",lo=RegExp(no+"(?="+no+")|"+fo+so,"g");var vo=Qu,ho=Xu,po=function(t){return t.match(lo)||[]};var yo=sr,bo=Gi,_o=Wu,go=Ju,mo=Gu,jo=function(t){return ho(t)?po(t):vo(t)},$o=lr;var wo=function(t,r,e){if((t=$o(t))&&(e||void 0===r))return bo(t);if(!t||!(r=yo(r)))return t;var n=jo(t),i=jo(r),u=mo(n,i),o=go(n,i)+1;return _o(n,u,o).join("")};function So(t,r){if(!pu(t))return[];if(!pu(r))return[];let e=function(t,r){return pu(t)&&pu(r)?t.split(r):[]}(t,r);e=Ni(e,wo);let n=[];return Hu(e,(function(t){pu(t)&&n.push(t)})),n}function Oo(t){return!!r.existsSync(t)&&(!r.lstatSync(t).isDirectory()&&!r.lstatSync(t).isSymbolicLink())}function Mo(t){return!!r.existsSync(t)&&(!r.lstatSync(t).isFile()&&!r.lstatSync(t).isSymbolicLink())}function Do(t){if(!r.existsSync(t))return{success:"folder does not exist: "+t};if(!Mo(t))return{error:"input path is not a folder: "+t};try{r.readdirSync(t).forEach((function(e){let n=t+"/"+e;if(r.lstatSync(n).isDirectory())Do(n);else try{r.unlinkSync(n)}catch(t){}}))}catch(t){return{error:t}}try{r.rmdirSync(t)}catch(t){return{error:t}}return{success:"done: "+t}}let xo=t.resolve();return async function(i){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,a=wr(u,"fdOutPre");pu(a)||(a="_");let c=wr(u,"readWithData");if(Pu(c)||(c=!0),"win32"!==e.platform)return Promise.reject("operating system is not windows");if(!Oo(i))return Promise.reject("fp is not a file");let s="mseed2ascii-2.6",f=`${xo}/node_modules/w-data-mseed/${s}/`,l=`${xo}/${s}/`;Mo(f)&&(l=f);let v=t.resolve(l,"mseed2ascii.exe");v=`"${v}"`;let h=t.resolve(xo,`${a}${Au().format("YYYYMMDDHHmmss")}-${function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,r=[];t=Ou(t)?Su(t):32;for(let e=0;e<t;e++)r[e]=Mu[0|Math.random()*Du];return r.join("")}(6)}`);Mo(h)||function(t){if(Mo(t))return{success:"input folder is already exists: "+t};if(r.existsSync(t))return{error:"input path already exists: "+t};try{r.mkdirSync(t,{recursive:!0})}catch(t){return{error:t}}}(h);let d="temp.mseed",p=t.resolve(h,d);try{r.copyFileSync(i,p)}catch(t){return console.log("copyFileSync",t),Promise.reject("copyFileSync error")}if(!Oo(p))return console.log("fpIn is not file",p),Promise.reject("fpIn is not file");let y=`-G "${p}"`,b=e.cwd(),_=h;if(e.chdir(_),await function(t,r){function e(t){try{return t.toString("utf8")}catch(t){}return""}return new Promise((function(i,u){let o="";n.exec(`${t} ${r}`,((t,r,n)=>{if(t)return u(t);pu(r=e(r))&&(o+=r),pu(n=e(n))&&(o+=n)})).on("close",(t=>{i(o)}))}))}(v,y).catch((t=>{console.log("execProcess catch",t),o="execProcess error"})),e.chdir(b),pu(o))return Promise.reject(o);let g=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=1;return function e(u){let o=[],a=r.readdirSync(u);return Hu(a,(function(a){let c=t.resolve(u,a),s=null;try{s=r.statSync(c)}catch(t){}s&&s.isDirectory()?(o.push({isFolder:!0,level:i,path:c,name:t.basename(c)}),i+=1,(i<=n||null===n)&&(o=o.concat(e(c))),i-=1):o.push({isFolder:!1,level:i,path:c,name:t.basename(c)})})),o}(e)}(h);function m(t){let e,n=So(r.readFileSync(t,"utf8"),"\n");e=wr(n,0,""),e=e.replace("# dataset: ","");let i=e;e=wr(n,2,""),e=e.replace("# SID: ","");let u=e;e=wr(n,3,""),e=e.replace("# sample_count: ","");let o=e;e=wr(n,4,""),e=e.replace("# sample_rate_hz: ","");let a=e;e=wr(n,5,""),e=e.replace("# start_time: ","");let c=e;e=wr(n,6,""),e=e.replace("# field_unit: ","");let s=e;e=wr(n,7,""),e=e.replace("# field_type: ","");let f={dataset:i,SID:u,sample_count:o,sample_rate_hz:a,start_time:c,field_unit:s,field_type:e},l=vu(n,9);return l=Ni(l,bu),{heads:f,records:l}}g=qi(g,(t=>t.name!==d)),g=Ni(g,(t=>({name:t.name,path:t.path,data:null})));try{r.unlinkSync(p)}catch(t){}return c&&(g=Ni(g,(t=>({name:t.name,path:null,data:m(t.path)}))),Do(h)),g}}));
//# sourceMappingURL=w-data-mseed.umd.js.map
